---
title: "[project] 앉는 카페 prologue 혹은 후기"
---

[앉는 카페 github](https://github.com/2yeseul/sitting-cafe)

작년 말~ 올해 초 겨울에 동기들과 진행했던 캡스톤 디자인을 보완하여 학교의 **소프트웨어 경진대회** 에 출전하기로 하였다. 

 우선 이 프로젝트에 대한 간략한 설명을 하자면 아두이노를 이용하여 카페의 실시간 좌석 현황을 알려주는 서비스이다. 사실 카페의 실시간 인원수를 측정하는데 있어 변수들이 많기 때문에 캡스톤 디자인 대회를 나갔을 무렵 측정 방식과 표현에 대해서도 굉장히 많이 고민을 했었다.  더군다나 아두이노를 배워본 적도, 사용해본 적도 없어 정말 맨 땅에 헤딩하는 기분으로 겨울에 프로젝트를 진행했었다. 처음에는 아예 의자(혹은 테이블) 마다 센서를 부착할까도 했으나 비용/효율적인 문제로 의견을 철회하였다. 

---

 결국 고심끝에 내린 결론은

1. 문 앞과 뒤에 센서(우리는 실험의 용이성 때문에 근접 센서를 이용했다. 문 천장에 부착할 수 있다면 적외선 인체 감지 센서가 더 좋을 듯 하다.)를 부착하고, 사람이 들어올 때와 나갈 때 각각 센서값을 받는다.
2. 여러 명이 들어오는 경우, 화장실을 가는 경우 등등 다양한 변수가 존재하므로 카페 좌석수 대비 인원수 비율을 지정하여 '혼잡도'를 추가하였다. 인원수에서 오차가 있을 수 있더라도 대략적인 혼잡도를 알려주기 위함이었다. 또한 사용자에게 결정권을 최대한으로 주기 위하여 카페의 테이블 수와 좌석 수를 같이 첨부하였다.

---

 겨울에 진행했던 캡스톤 프로젝트와 이번 여름에 진행한 경진대회 프로젝트의 가장 큰 차이점은 데이터를 전송하는 방식이다.  캡스톤 디자인에서는 센서의 데이터를 어플리케이션으로 전송할 때 **블루투스 모듈**을 사용하였고, 보완한 경진대회 프로젝트에서는 **와이파이 모듈**을 사용하였다. (이 와이파이 모듈에 대해선 추후에 더...)  

**블루투스 모듈**의 가장 큰 한계는 사용자와 아두이노가 멀어지면 센서값을 전송할 수 없는 것이다. 우리의 프로젝트의 주제가 다른 장소에서도 인원수를 파악하는 것인데, 블루투스 모듈을 사용하면 이는 불가능한 일이였다. 또한 어플리케이션 역시 '앱인벤터'를 이용하여 만들었으므로, 여러모로 아쉬웠던 프로젝트였다. 아이디어 자체가 너무 좋았기 때문에 우리 팀은 **소프트웨어 경진대회**에서 아쉬웠던 점들을 보안하기로 하였다. 

---

학교에서 시행하는 소프트웨어 경진대회에 대해 몇 마디 적어보자면.. 졸업 논문/작품 면제라는 엄청난 advantage 덕분에 대다수의 학생들이 참가하는 대회이다. 올해는 규모를 크게한다고 해서 상금도 늘렸는데..저학년부에서는 생각보다 많이 참여하질 않아 여태 고/저학년부를 나눠서 주다가 하필 올해 합쳐서 주는 바람에 조금(..) 손해를 봤다고 생각한다. 여튼, 우리는 고학년팀에 출전하였다. 

 개선 방안은 다음과 같았다.

1. 애초 생각했던 주제를 그대로 구현하기 위하여 **블루투스 모듈** 대신 **와이파이 모듈**을 사용
2. 서버를 통하여 실시간으로 웹과 어플리케이션에서 데이터를 볼 수 있게끔함

하지만 생각보다 너무 힘들었다.. 와이파이 모듈인 ESP8266 (^^)은 정말 예민한 고라니 같아서 펌웨어 업데이트 부터 난항을 겪었고, 헤더 라이브러리는 제대로 작동하지도 않아서 일일히 명령어들을 입력하여 구동했었지만 그 마저도 연결이 되는 듯 하다가 null값만 DB쪽에 뿌려주고.. 일과 병행하며 퇴근 후 프로젝트를 진행하는 내내 정말 이게 실현될 수 있을까 라는 스트레스를 받았었다. ㅠㅠ 이 모듈에 대한 문제는 아예 모듈이 장착된 보드로 교체한 후 말끔하게 해결하였다. (혹시라도 esp8266 모듈로 고통받는 분이 계시다면 보드를 활용하는 것을 강추드립니다.)

모듈만이 문제가 아니었다. 서버 역시 문제였다. 서버 관련 수업을 아직 듣지 않았던 상태였어서 정말 서버에 대해서 문외한 그 자체였다. 결론부터 말하자면 이번 프로젝트를 통해 PHP를 포함 서버에 대한 개괄적인 이해를 할 수 있어서 이 프로젝트가 정말 도움이 되었다.  회사에서도 DB를 조금이나마 다루는 일을 했던 것이 이번 프로젝트와 시너지 효과를 내어 쿼리를 작성하는데에도 꽤 도움이 되었다. 항상 개발 쪽 진로가 막막했는데, 이번 프로젝트를 통해 조금이나마 진로를 정할 수 있게 되었다. 여튼..실시간으로 데이터 값을 뿌려주는 것은 성공하였다. 나머지는 다음 포스팅 부터...